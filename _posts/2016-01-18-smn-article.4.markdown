---
layout: post
title: "git 이론 -1부"
subtitle: ""
date: 2016-01-18 19:25:00
author: "smnkim"
header-img: "img/smnkim.jpg"
---





## 프로젝트를 진행하면서 느낀점
----

벌써 2월 2주차이다.

본격적으로 개발이 진행된 것은 약 4주차가 되어가는 셈이다.

4주 동안 개발을 진행하면서 참 많은 것을 배웠고, 단 한 줄의 코드를 짜더라도 책임의 무게를 느끼게 되는 아주 귀중한 시간이었다.

깨닫게 된 결정적인 사건들 위주로 내용을 정리해 보았다.


#### 에피소드- 1
----
우리조는 개발과 함께 코드리뷰도 종종 함께 진행하였다.

지금까지 프로젝트를 진행하면서 코드리뷰라는 것을 해본적이 단한번도 없었다. 그냥 원하는 기능이 제대로만 동작 한다면 아무도 내 코드에 대해 문제를 제기 하지 않았다. 심지어 내 코드를 궁금해 하지도 않았다.

그 덕에(?) 내가 짠 코드는 훌륭하다고 쉽게 속아넘어가며 지금까지 잘 지내왔던 것이다. 

지금까지 코드를 일회용으로 휘갈기며 구현해왔다. 나만 알아볼 수 있는 코드면 되니까 아무렇게나 변수명도 대충대충...

정작 6개월 뒤에 나조차 알아볼 수 없는 코드가 되는 아이러니한 상황이 발생하긴 했지만... 그땐 뭐 그게 큰 문제가 되지 않았다.

내 코드는 내 마음대로식의 안 좋은 코딩 습관이 NHN에서 들통나버렸다.

클래스 명이 이게 뭐니, 이 VO는 왜 만들었어?! 도대체 왜 코드를 이렇게 구현했니? 나는 니가 짠 코드의 의도를 잘 모르겠어.

이런 피눈물 나는 직설적인 코드리뷰를 처음 받았을 때는 정말 너무 속상하고 자존심상하고 눈물이 날뻔했다. 도대체 내가 뭘 잘 못한거지... 잘 동작하는데...

하지만 금방 결론이 났다. 팀원의 지적이 옳았고, 그 지적 덕분에 코드를 짜는데 있어 다시 한번 생각하고, 고민하면서 구현하기 위해 노력하게 됐다.

내 코드를 다른 팀원이 봤을때 이해하는데 무리가 없을 만큼 간결하면서도 명확한 코드를 구현하는 방법에 대해 끝임없는 고민을 하기 위해 더욱 노력할 것이다.


#### 에피소드- 2
----
평소 덜렁거리고 주변 사물을 잘 못봐서 부딪히고 멍들기 일쑤인 내가 코드에도 그게 안 묻어 날리가 없다.

지금은 워낙 시간이 촉박하다 보니 PR을 날리고 Merge하는게 당연시 돼 PR을 날리고 바로 Merge를 했다.

Merge한 코드에는 내가 미처 아직 지우지 못했던 주석코드 들이 있었고, 테스트함수의 변수 명도 엉터리로 되어있었다. 

내 코드는 앞으로 PR 후에 최소 1명의 팀원에게라도 꼭 코드리뷰를 받은 후에 Merge를 진행 할 계획이다. 

진행하는 속도는 조금 더딜지 모르겠지만, 이러한 과정이 반복되다 보면 나의 안좋은 습관들이 점점 개선 될 것이라고 생각한다.


#### 에피소드- 3
----
내가 가볍게 생각하고 짠 코드가 결코 가볍지 않다는 사실을 또 한번 아주 뼛속 깊이 깨닫게 된 사건이 있었다.

코드 정적 분석기의 분석 리포트를 토대로 코드를 개선하는 나머지 작업을 맡았다.

그 중에, Twitter와 Facebook의 OAuth를 인증 받는 과정에서 Connection을 사용하고 disconnetion을 하지 않아서 경고를 하는 메세지가 있었고,

해당 클래스로 가서 disconnetion을 해주는 코드 한줄을 추가해주었다.

그리곤 결과가 너무 예측 가능한 코드라고 쉽게 생각하고 테스트를 해보지도 않고 코드를 Merge해버렸다.

일이 터졌다. 팀원은 내가 머지해버린 코드를 Full받아서 실행시켜보니 로그인이 안되고 NullponiterExpcetion이 발생하였다.

전까지 잘만 동작하던 로그인이 안되니 오빠는 디버깅을 하였고, 결국엔 disconnection위치를 잘 못 지정해서 계속 NullponiterExpcetion이 발생했다는 사실을 알게 되었다.

그 원인을 찾기 위해 시간을 허비 하게 했다. 너무 미안했다.

단 한줄의 코드라도 코드가 잘 동작하는지 반드시 테스트를 하고 Merge를 했어야 했다.

토비의 스프링 저자는 이런 말을 했다.
>"HelloWorld"를 출력하는 프로그램이 아닌 이상, 코드만 만들어놓고 잘 돌아가겠거니 하고 무책임하게 개발을 마치려는 개발자는 아마도 없을 것이다.

여기 있었다. 내 생에 다시는 그런 무책임한 개발은 없을 것이다. HelloWorld를 출력하는 프로그램일 지라도 반드시 내눈으로 잘 돌아가는 것을 확인할 것이다.




````
정리하자면,

- 빨리 일처리를 하는 것도 물론 중요하지만 정확히 일처리를 해야한다. 
- 의도를 명확하게 해야 하며 PR을 날리기 전에 내가 짠 코드를 다시한번 검증하는 습관을 들여야 한다. 
- 포기하지 않고 반복적으로 노력한다면 그땐 머리가 아닌 손이 외우고 있을 것이다.
````


나는 여전히 미숙하다. 하지만 그렇기에 성장할 수 있다고 믿는다. 

마지막으로 부족한 나를 옳은 길로 인도해주는 우리 팀원들에게 너무 고맙다. 정말 진심을 다해서.
----